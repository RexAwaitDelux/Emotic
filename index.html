<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>EmoTIC ‚Äì Prototipo</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f2f4f7;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    h1 {
        background: #4a79ff;
        color: white;
        padding: 15px 30px;
        width: 100%;
        text-align: center;
        margin: 0;
    }

    .container {
        max-width: 650px;
        background: white;
        padding: 20px;
        margin-top: 20px;
        border-radius: 12px;
        box-shadow: 0 0 10px #0001;
    }

    .emociones {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 12px;
        margin-bottom: 25px;
    }

    .emocion {
        padding: 15px;
        font-size: 22px;
        cursor: pointer;
        border-radius: 10px;
        text-align: center;
        border: 2px solid transparent;
        transition: 0.3s;
    }

    .emocion:hover {
        transform: scale(1.1);
        border-color: #4a79ff;
    }

    #mensaje {
        padding: 15px;
        background: #eef3ff;
        border-left: 4px solid #4a79ff;
        margin-top: 10px;
        display: none;
    }

    canvas {
        margin-top: 25px;
        background: #ffffff;
        padding: 10px;
        border-radius: 10px;
    }
</style>
</head>
<body>

<h1>EmoTIC ‚Äì Registro Emocional</h1>

<div class="container">

    <h2>¬øC√≥mo te sientes hoy?</h2>

    <div class="emociones">
        <div class="emocion" style="background:#ffdd57" onclick="registrar('Alegr√≠a')">üòä</div>
        <div class="emocion" style="background:#a3c4f3" onclick="registrar('Tristeza')">üò¢</div>
        <div class="emocion" style="background:#ff6b6b" onclick="registrar('Enojo')">üò°</div>
        <div class="emocion" style="background:#b084f8" onclick="registrar('Miedo')">üò®</div>
        <div class="emocion" style="background:#91eac2" onclick="registrar('Calma')">üòå</div>
        <div class="emocion" style="background:#ffd6ff" onclick="registrar('Sorpresa')">üòÆ</div>
        <div class="emocion" style="background:#d3d3d3" onclick="registrar('Indiferencia')">üòê</div>
    </div>

    <div id="mensaje"></div>

    <h3>Mapa emocional en tiempo real (Gr√°fica)</h3>

    <canvas id="grafica" width="600" height="300"></canvas>

</div>

<script>
    let datos = {
        "Alegr√≠a": 0,
        "Tristeza": 0,
        "Enojo": 0,
        "Miedo": 0,
        "Calma": 0,
        "Sorpresa": 0,
        "Indiferencia": 0
    };

    const mensajes = {
        "Alegr√≠a": "¬°Qu√© bueno que te sientas bien! Comparte esa energ√≠a con los dem√°s.",
        "Tristeza": "Gracias por expresarlo. Recuerda: no tienes que estar bien siempre.",
        "Enojo": "Respirar profundo puede ayudar. Tu emoci√≥n es v√°lida.",
        "Miedo": "No est√°s solo. Hablar con alguien de confianza puede ser √∫til.",
        "Calma": "Sigue cuidando tu bienestar. La calma tambi√©n se comparte.",
        "Sorpresa": "La vida est√° llena de cambios inesperados. ¬°√Ånimo!",
        "Indiferencia": "A veces sentirse ‚Äòneutral‚Äô tambi√©n es parte del d√≠a."
    };

    // === CREACI√ìN DEL GR√ÅFICO ===
    const ctx = document.getElementById('grafica').getContext('2d');

    let grafica = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: Object.keys(datos),
            datasets: [{
                label: 'Cantidad de emociones',
                data: Object.values(datos),
                backgroundColor: [
                    '#ffdd57', '#a3c4f3', '#ff6b6b',
                    '#b084f8', '#91eac2', '#ffd6ff', '#d3d3d3'
                ]
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: { beginAtZero: true }
            }
        }
    });

    // === FUNCI√ìN PARA REGISTRAR EMOCI√ìN ===
    function registrar(emocion) {
        datos[emocion]++;

        let msg = document.getElementById("mensaje");
        msg.style.display = "block";
        msg.innerHTML = `<b>${emocion}</b>: ${mensajes[emocion]}`;

        actualizarGrafica();
    }

    // === ACTUALIZAR GR√ÅFICA ===
    function actualizarGrafica() {
        grafica.data.datasets[0].data = Object.values(datos);
        grafica.update();
    }
</script>

</body>
</html>
